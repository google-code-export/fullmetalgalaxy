<?xml version="1.0" encoding="utf-8"?>
<appengine-web-app xmlns="http://appengine.google.com/ns/1.0">
	<application>fullmetalgalaxy2</application>
	<version>123</version>
	
	<sessions-enabled>true</sessions-enabled>
	<precompilation-enabled>true</precompilation-enabled>
	<!-- comment du to this bug: http://code.google.com/p/googleappengine/issues/detail?id=5774 --> 
	<!-- async-session-persistence enabled="true" queue-name="default"/-->
	<threadsafe>true</threadsafe>
	 
	<!-- Configure java.util.logging -->
	<system-properties>
		<property name="java.util.logging.config.file" value="WEB-INF/logging.properties"/>
	</system-properties>
	
	<inbound-services>
    	<service>xmpp_message</service>
    	<service>xmpp_presence</service>
    	<service>xmpp_subscribe</service>
  	</inbound-services>
  
	<admin-console>
    	<page name="Index" url="/admin/index.jsp" />
    	<page name="Accounts" url="/admin/accounts.jsp" />
  	</admin-console>
  
	<static-files>
        <include path="/**.cache.**" expiration="365d" />
        <include path="/**.nocache.**" expiration="20s" />
        <include path="/game/**" expiration="10d" />
        <include path="/chat/**" expiration="10d" />
        <include path="/puzzles/**" expiration="10d" />
        <include path="/**images/**" expiration="10d" />
        <include path="/**.css" expiration="10d" />
        <include path="/ImageServlet" expiration="1d" />
        <!-- We can't cache game.jsp since game data is now embedded -->
        <include path="/game.jsp" expiration="1s" />
        <include path="/**.jsp" expiration="2h" />
        <include path="/*" expiration="10d" />
        <exclude path="/include/**" />
        <exclude path="/**.pspimage" />
        <exclude path="/images/**/minimap/*" />
    </static-files>
    
    <resource-files>
        <include path="/puzzles/**.bin" />
        <include path="/i18n/**.html" />
        <include path="/i18n/**.jsp" />
        <include path="/include/*" />
        <include path="/**txt" />
        <include path="/**rpc" />
        <include path="/help/menu.html" />
        <include path="/images/**/minimap/*" />
    </resource-files>
    
    <static-error-handlers>
    	<handler file="error-default.html"/>
    	<handler file="error-quota.html" error-code="over_quota"/>
    	<handler file="error-timeout.html" error-code="timeout"/>
  	</static-error-handlers>
  	
</appengine-web-app>